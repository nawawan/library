EPS = 1e(-9)とでもおいて誤差をなくす
例えばdouble aについて、a < 0　や a <= 0が正しく判定されない場合があるので
int judge(double a){
    return (a < EPS ? -1: (a > EPS ? 1: 0));
}
を定義してそれで判定するなど…